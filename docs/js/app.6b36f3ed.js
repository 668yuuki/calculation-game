(function(){"use strict";var t={680:function(t,e,n){var o=n(4592),s=(n(3246),n(2872)),i=n(1451),r=n(4255),a=n(440);function l(t,e,n,o,s,i){const r=(0,a.up)("HomeStage");return(0,a.wg)(),(0,a.j4)(r)}var u=n(8643);function y(t,e,n,o,s,i){const r=(0,a.up)("info-Display"),l=(0,a.up)("ball"),y=(0,a.up)("player"),f=(0,a.up)("enemy");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",null,(0,u.zw)(i.score),1),(0,a.Wm)(r,{"info-display-status":t.infoDisplayStatus,onGameStart:i.gameStart,onUpdateStatus:e[0]||(e[0]=e=>t.infoDisplayStatus=e)},null,8,["info-display-status","onGameStart"]),((0,a.wg)(),(0,a.iD)("svg",null,[t.isShowBall?((0,a.wg)(),(0,a.j4)(l,{key:0,ref:"ball",isShowBall:t.isShowBall,"player-answer":t.playerAnswer,onUpdatePos:i.ballAndEnemyCollisionDetection},null,8,["isShowBall","player-answer","onUpdatePos"])):(0,a.kq)("",!0),t.isShowPlayer?((0,a.wg)(),(0,a.j4)(y,{key:1,ref:"player",onClick:i.moveBallTowardsEnemy},null,8,["onClick"])):(0,a.kq)("",!0),t.isShowEnemy?((0,a.wg)(),(0,a.j4)(f,{key:2,ref:"enemy",onUpdatePos:i.playerAndEnemyCollisionDetection},null,8,["onUpdatePos"])):(0,a.kq)("",!0)]))])}const f={class:"my-4"};function c(t,e,n,o,s,i){const r=(0,a.up)("v-btn"),l=(0,a.up)("v-sheet"),y=(0,a.up)("v-dialog"),c=(0,a.up)("v-container");return(0,a.wg)(),(0,a.j4)(c,null,{default:(0,a.w5)((()=>[(0,a.Wm)(y,{modelValue:i.dialog,"onUpdate:modelValue":e[1]||(e[1]=t=>i.dialog=t),activator:"parent"},{default:(0,a.w5)((()=>[(0,a.Wm)(l,null,{default:(0,a.w5)((()=>[(0,a.Wm)(l,{class:"my-2 mx-5"},{default:(0,a.w5)((()=>[(0,a._)("h2",null,(0,u.zw)(i.titleText),1),(0,a._)("p",f,(0,u.zw)(i.infoText),1),(0,a.Wm)(r,{color:"primary",block:"",onClick:e[0]||(e[0]=t=>i.buttonClick())},{default:(0,a.w5)((()=>[(0,a.Uk)((0,u.zw)(i.buttonText),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var h={name:"InfoDisplay",props:{infoDisplayStatus:{type:String,default:""}},data:()=>({infoTexts:{GAME_START:{titleText:"ゲーム開始",infoText:"ゲーム開始します",buttonText:"ゲーム開始"},GAME_CLEAR:{titleText:"ゲームクリア",infoText:"ゲーム時間１時間追加",buttonText:"閉じる"},GAME_OVER:{titleText:"ゲームオーバー",infoText:"ゲーム時間１０分減らす",buttonText:"閉じる"}}}),computed:{dialog:{get(){return""!=this.infoDisplayStatus},set(){this.$emit("updateStatus","")}},titleText(){return this.infoDisplayStatus?this.infoTexts[this.infoDisplayStatus].titleText:""},infoText(){return this.infoDisplayStatus?this.infoTexts[this.infoDisplayStatus].infoText:""},buttonText(){return this.infoDisplayStatus?this.infoTexts[this.infoDisplayStatus].buttonText:""}},mounted(){console.log("InfoDisplay",this.infoDisplayStatus)},methods:{buttonClick(){this.dialog=!1,"GAME_START"==this.infoDisplayStatus&&this.$emit("gameStart")}}},m=n(465);const p=(0,m.Z)(h,[["render",c]]);var d=p;const w=["transform"],g=["href"],x={x:"-10",y:"-10","font-family":"Verdana","font-size":"10",fill:"red"};function v(t,e,o,s,i,r){return(0,a.wg)(),(0,a.iD)("g",{transform:`translate(${t.pos.x},${t.pos.y})`},[(0,a._)("image",{href:n(8592),height:"20",width:"20",id:"ball"},null,8,g),(0,a._)("text",x,(0,u.zw)(o.playerAnswer),1)],8,w)}var S={name:"BallComponent",props:{playerAnswer:{type:String,default:""}},data:()=>({pos:{x:70,y:100},centerOffset:{x:0,y:0},ballIntervalId:0}),mounted(){const t=document.querySelector("#ball");if(!t)return;const e=t.getBBox(),n=this.centerOffset;n.x=e.x/2,n.y=e.y/2},methods:{moveBallTowardsEnemy(){const t=this.pos;this.ballIntervalId=setInterval((()=>{t.x+=3,t.y-=1.5,this.$emit("updatePos")}),50)},stopBallTowardsEnemy(){clearInterval(this.ballIntervalId)},initPos(){const t=this.pos;t.x=70,t.y=100},init(){this.stopBallTowardsEnemy(),this.initPos()}}};const T=(0,m.Z)(S,[["render",v]]);var b=T;const E=["transform"],B=["href"],k={x:"0",y:"35","font-family":"Verdana","font-size":"10",fill:"yellow"};function A(t,e,o,s,i,r){return(0,a.wg)(),(0,a.iD)("g",{transform:`translate(${t.pos.x},${t.pos.y})  scale(${t.scale})`},[(0,a._)("image",{href:n(1844),height:"50",width:"50",id:"enemy"},null,8,B),(0,a._)("text",k,(0,u.zw)(r.question),1)],8,E)}var P={name:"EnemyComponent",data:()=>({pos:{x:200,y:0},centerOffset:{x:0,y:0},scale:1,answer:0,questionText:"",enemyIntervalId:0}),computed:{question(){return this.questionText}},mounted(){const t=document.querySelector("#enemy");if(!t)return;const e=t.getBBox(),n=this.centerOffset;n.x=0,n.y=e.height,this.makeQuestion()},methods:{moveEnemyTowardsPlayer(){this.enemyIntervalId=setInterval((()=>{const t=this.pos;t.x-=25,t.y+=1.5,this.scale+=.3;const e=document.querySelector("#enemy");if(!e)return;const n=e.getBBox(),o=this.centerOffset;o.x=0,o.y=n.height,this.$emit("updatePos")}),1e3)},number1to10(){return Math.floor(9*Math.random())+1},stopEnemyTowardsPlayer(){clearInterval(this.enemyIntervalId)},initPos(){const t=this.pos;t.x=200,t.y=0,this.scale=1},init(){this.stopEnemyTowardsPlayer(),this.initPos(),this.makeQuestion(),this.moveEnemyTowardsPlayer()},makeQuestion(){const t=this.number1to10(),e=this.number1to10();this.questionText=`${t} × ${e}`,this.answer=t*e}}};const C=(0,m.Z)(P,[["render",A]]);var D=C;const _=["transform"],O=["href"];function $(t,e,o,s,i,r){return(0,a.wg)(),(0,a.iD)("g",{transform:`translate(${t.pos.x},${t.pos.y})`},[(0,a._)("image",{href:n(2131),height:"100",width:"100",id:"player"},null,8,O)],8,_)}var I={name:"PlayerComponent",data:()=>({pos:{x:5,y:80},centerOffset:{x:0,y:0}}),mounted(){const t=document.querySelector("#player");if(!t)return;const e=t.getBBox(),n=this.centerOffset;n.x=e.x/2,n.y=e.y/2},methods:{throwBall(){this.$emit("throwBall")}}};const j=(0,m.Z)(I,[["render",$]]);var q=j,M={name:"HomeStage",components:{InfoDisplay:d,Ball:b,Enemy:D,Player:q},data:()=>({isShowEnemy:!0,isShowBall:!0,isShowPlayer:!0,infoDisplayStatus:"GAME_START",correctCount:0,playerAnswer:""}),computed:{enemyAnswer(){const t=this.$refs.enemy;return t.answer},score(){return 10*this.correctCount}},created(){window.addEventListener("keydown",this.keyAction)},beforeUnmount(){window.removeEventListener("keydown",this.keyAction)},methods:{gameStart(){const t=this.$refs.enemy;t.moveEnemyTowardsPlayer(),this.infoDisplayStatus=""},moveBallTowardsEnemy(){const t=this.$refs.ball;t.moveBallTowardsEnemy()},ballAndEnemyCollisionDetection(){const t=this.$refs.enemy;if(!t)return;const e=this.getCenterPos(t),n=this.$refs.ball,o=this.getCenterPos(n);if(o.y<e.y){this.isShowBall=!1;const e=Number(this.playerAnswer);e===this.enemyAnswer&&(this.isShowEnemy=!1,t.init(),this.isShowEnemy=!0,this.correctCount++,this.correctCount>=10&&(this.isShowEnemy=!1,this.isShowBall=!1,this.isShowPlayer=!1,this.infoDisplayStatus="GAME_CLEAR")),n.init(),this.isShowBall=!0,this.playerAnswer=""}},playerAndEnemyCollisionDetection(){const t=this.$refs.enemy;if(!t)return;const e=this.getCenterPos(t),n=this.$refs.player,o=this.getCenterPos(n);o.x>e.x&&o.y>e.y&&(this.isShowEnemy=!1,this.isShowBall=!1,this.isShowPlayer=!1,this.infoDisplayStatus="GAME_OVER")},throwBall(){this.moveBallTowardsEnemy()},getCenterPos(t){const e=t.pos,n=t.centerOffset;return{x:e.x+n.x,y:e.y+n.y}},keyAction(t){13!==t.keyCode?t.keyCode>=48&&t.keyCode<=57&&(this.playerAnswer=this.playerAnswer+String(t.keyCode-48)):this.moveBallTowardsEnemy()}}};const G=(0,m.Z)(M,[["render",y]]);var z=G,R={name:"App",components:{HomeStage:z}};const U=(0,m.Z)(R,[["render",l]]);var V=U;const Z=(0,s.Rd)({components:i,directives:r});(0,o.ri)(V).use(Z).mount("#app")},1844:function(t,e,n){t.exports=n.p+"img/enemy.aac97ded.png"},8592:function(t,e,n){t.exports=n.p+"img/fireBall.47cfb2ad.png"},2131:function(t,e,n){t.exports=n.p+"img/player.6b58406f.png"}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,i){if(!o){var r=1/0;for(y=0;y<t.length;y++){o=t[y][0],s=t[y][1],i=t[y][2];for(var a=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(a=!1,i<r&&(r=i));if(a){t.splice(y--,1);var u=s();void 0!==u&&(e=u)}}return e}i=i||0;for(var y=t.length;y>0&&t[y-1][2]>i;y--)t[y]=t[y-1];t[y]=[o,s,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,i,r=o[0],a=o[1],l=o[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(l)var y=l(n)}for(e&&e(o);u<r.length;u++)i=r[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(y)},o=self["webpackChunkcalculation_game"]=self["webpackChunkcalculation_game"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(680)}));o=n.O(o)})();
//# sourceMappingURL=app.6b36f3ed.js.map